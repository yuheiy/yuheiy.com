!function(){"use strict";var t,e,n=(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e=void 0,n=function(){if(null===e||void 0===e){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];e=requestAnimationFrame(function(n,o){return function(){e=null,t.apply(n,o)}}(this,o))}};return n.cancel=function(){return cancelAnimationFrame(e)},n}}(t={exports:{}},t.exports),t.exports),o=(e=n)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=Math.floor,i=Math.random;var a="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=(a||l||Function("return this")()).Symbol,u=Object.prototype,s=u.hasOwnProperty,d=u.toString,f=c?c.toStringTag:void 0;var v=Object.prototype.toString;var h="[object Null]",y="[object Undefined]",m=c?c.toStringTag:void 0;function p(t){return null==t?void 0===t?y:h:m&&m in Object(t)?function(t){var e=s.call(t,f),n=t[f];try{t[f]=void 0;var o=!0}catch(t){}var r=d.call(t);return o&&(e?t[f]=n:delete t[f]),r}(t):function(t){return v.call(t)}(t)}function b(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var g="[object AsyncFunction]",j="[object Function]",_="[object GeneratorFunction]",w="[object Proxy]";var E=9007199254740991;function M(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}(t.length)&&!function(t){if(!b(t))return!1;var e=p(t);return e==j||e==_||e==g||e==w}(t)}var O=9007199254740991,S=/^(?:0|[1-9]\d*)$/;function $(t,e,n){if(!b(n))return!1;var o=typeof e;return!!("number"==o?M(n)&&function(t,e){var n=typeof t;return!!(e=null==e?O:e)&&("number"==n||"symbol"!=n&&S.test(t))&&t>-1&&t%1==0&&t<e}(e,n.length):"string"==o&&e in n)&&function(t,e){return t===e||t!=t&&e!=e}(n[e],t)}var P="[object Symbol]";var A=NaN,x=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,F=/^0o[0-7]+$/i,q=parseInt;function I(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&p(t)==P}(t))return A;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(x,"");var n=L.test(t);return n||F.test(t)?q(t.slice(2),n?2:8):k.test(t)?A:+t}var T=1/0,N=1.7976931348623157e308;function B(t){return t?(t=I(t))===T||t===-T?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}var H=parseFloat,R=Math.min,V=Math.random;function C(t,e,n){if(n&&"boolean"!=typeof n&&$(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=B(t),void 0===e?(e=t,t=0):e=B(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var a=V();return R(t+a*(e-t+H("1e-"+((a+"").length-1))),e)}return function(t,e){return t+r(i()*(e-t+1))}(t,e)}var G=Math.ceil,U=Math.max;var W,Y=function(t,e,n){return n&&"number"!=typeof n&&$(t,e,n)&&(e=n=void 0),t=B(t),void 0===e?(e=t,t=0):e=B(e),function(t,e,n,o){for(var r=-1,i=U(G((e-t)/(n||1)),0),a=Array(i);i--;)a[o?i:++r]=t,t+=n;return a}(t,e,n=void 0===n?t<e?1:-1:B(n),W)};const z=Boolean(window.customElements),D=Boolean(document.documentElement.attachShadow),J=z&&D,K=window.matchMedia("(prefers-reduced-motion)").matches,Q=1e3/15,X=1024,Z=1024,tt=X/100,et=X/10,nt=Z/10*-1,ot=Z/10,rt=()=>{const t=Z/2,e=[[0,t]];let n=0,o=t;for(;n<X;)n+=C(tt,et),o+=C(nt,ot),e.push([n,o]);return{points:e,toPointsAttrVal:()=>e.map(t=>t.join(",")).join(" ")}},it=()=>Y(3).map(rt);class at extends HTMLElement{constructor(){super(),this._isPlaying=!1,this._timerId=null,this._render=this._render.bind(this),this.attachShadow({mode:"open"}),this._render()}play(){this._isPlaying||(this._render(),this._timerId=setInterval(this._render,Q),this._isPlaying=!0)}stop(){this._isPlaying&&(clearTimeout(this._timerId),this._isPlaying=!1)}_render(){const t=it();this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          all: initial;\n          contain: content;\n          display: inline-block;\n        }\n\n        #stage {\n          width: 100%;\n          height: 100%;\n          vertical-align: bottom;\n        }\n\n        #background {\n          fill: var(--yuhei-avator__color-bg, var(--color-bg, white));\n        }\n\n        .line {\n          fill: none;\n          stroke: var(--yuhei-avator__color-fg, var(--color-fg, black));\n          stroke-width: ${X/64};\n          stroke-linecap: square;\n        }\n      </style>\n\n      <svg id="stage" viewBox="0 0 ${X} ${Z}" preserveAspectRatio="xMidYMid slice" role="img">\n        <rect id="background" width="${X}" height="${Z}"></rect>\n        ${t.map(t=>`<polyline class="line" points="${t.toPointsAttrVal()}"></polyline>`).join("")}\n      </svg>\n    `}}if(J)customElements.define("yuhei-avator",at);else{const t=document.querySelector("#tmpl-yuhei-avator-fallback");document.querySelectorAll("yuhei-avator").forEach(e=>{const n=document.importNode(t.content.firstElementChild,!0);[...e.attributes].forEach(({name:t,value:e})=>{n.setAttribute(t,e)}),e.replaceWith(n)})}if(J&&!K){const t=document.querySelector('body > footer a[title="yuheiy.com"]'),e=t.querySelector("yuhei-avator"),n=async()=>{t.matches(":hover")||t.matches(":focus")?e.play():e.stop()};document.addEventListener("blur",n),document.addEventListener("mousemove",o(n)),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",n),t.addEventListener("focus",n),t.addEventListener("blur",n)}console.log("Source: https://github.com/yuheiy/yuheiy.com")}();
