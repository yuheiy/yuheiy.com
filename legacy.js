!function(){"use strict";var t,e,n=(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e=void 0,n=function(){if(null===e||void 0===e){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];e=requestAnimationFrame(function(n,o){return function(){e=null,t.apply(n,o)}}(this,o))}};return n.cancel=function(){return cancelAnimationFrame(e)},n}}(t={exports:{}},t.exports),t.exports),o=(e=n)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=Math.floor,i=Math.random;var a="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,u=(a||l||Function("return this")()).Symbol,c=Object.prototype,s=c.hasOwnProperty,d=c.toString,f=u?u.toStringTag:void 0;var v=Object.prototype.toString;var h="[object Null]",b="[object Undefined]",y=u?u.toStringTag:void 0;function m(t){return null==t?void 0===t?b:h:y&&y in Object(t)?function(t){var e=s.call(t,f),n=t[f];try{t[f]=void 0;var o=!0}catch(t){}var r=d.call(t);return o&&(e?t[f]=n:delete t[f]),r}(t):function(t){return v.call(t)}(t)}function p(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var g="[object AsyncFunction]",j="[object Function]",_="[object GeneratorFunction]",w="[object Proxy]";var A=9007199254740991;function E(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=A}(t.length)&&!function(t){if(!p(t))return!1;var e=m(t);return e==j||e==_||e==g||e==w}(t)}var M=9007199254740991,O=/^(?:0|[1-9]\d*)$/;function S(t,e,n){if(!p(n))return!1;var o=typeof e;return!!("number"==o?E(n)&&function(t,e){var n=typeof t;return!!(e=null==e?M:e)&&("number"==n||"symbol"!=n&&O.test(t))&&t>-1&&t%1==0&&t<e}(e,n.length):"string"==o&&e in n)&&function(t,e){return t===e||t!=t&&e!=e}(n[e],t)}var $="[object Symbol]";var P=NaN,k=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,F=/^0o[0-7]+$/i,q=parseInt;function I(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&m(t)==$}(t))return P;if(p(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=p(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(k,"");var n=L.test(t);return n||F.test(t)?q(t.slice(2),n?2:8):x.test(t)?P:+t}var T=1/0,N=1.7976931348623157e308;function B(t){return t?(t=I(t))===T||t===-T?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}var C=parseFloat,H=Math.min,R=Math.random;function V(t,e,n){if(n&&"boolean"!=typeof n&&S(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=B(t),void 0===e?(e=t,t=0):e=B(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var a=R();return H(t+a*(e-t+C("1e-"+((a+"").length-1))),e)}return function(t,e){return t+r(i()*(e-t+1))}(t,e)}var G=Math.ceil,U=Math.max;var W,Y=function(t,e,n){return n&&"number"!=typeof n&&S(t,e,n)&&(e=n=void 0),t=B(t),void 0===e?(e=t,t=0):e=B(e),function(t,e,n,o){for(var r=-1,i=U(G((e-t)/(n||1)),0),a=Array(i);i--;)a[o?i:++r]=t,t+=n;return a}(t,e,n=void 0===n?t<e?1:-1:B(n),W)};const z=Boolean(window.customElements),D=Boolean(document.documentElement.attachShadow),J=z&&D,K=window.matchMedia("(prefers-reduced-motion)").matches,Q=1e3/15,X=1024,Z=1024,tt=X/100,et=X/10,nt=Z/10*-1,ot=Z/10,rt=()=>{const t=Z/2,e=[[0,t]];let n=0,o=t;for(;n<X;)n+=V(tt,et),o+=V(nt,ot),e.push([n,o]);return{points:e,toPointsAttrVal:()=>e.map(t=>t.join(",")).join(" ")}},it=()=>Y(3).map(rt);class at extends HTMLElement{static get observedAttributes(){return["label"]}constructor(){super(),this._isPlaying=!1,this._timerId=null,this._render()}get label(){return this.getAttribute("label")||""}set label(t){this.setAttribute("label",t||"")}attributeChangedCallback(t,e,n){e!==n&&this._render()}play(){this._isPlaying||(this._render(),this._timerId=setInterval(this._render.bind(this),Q),this._isPlaying=!0)}stop(){this._isPlaying&&(clearTimeout(this._timerId),this._isPlaying=!1)}_render(){const t=it();(this.shadowRoot||this.attachShadow({mode:"open"})).innerHTML=`\n      <style>\n        :host {\n          all: initial;\n          contain: content;\n          display: inline-block;\n        }\n\n        #stage {\n          width: 100%;\n          height: 100%;\n          vertical-align: bottom;\n        }\n\n        #background {\n          fill: var(--yuhei-avator__color-bg, var(--color-bg, white));\n        }\n\n        .line {\n          fill: none;\n          stroke: var(--yuhei-avator__color-fg, var(--color-fg, black));\n          stroke-width: ${X/64};\n          stroke-linecap: square;\n        }\n      </style>\n\n      <svg id="stage" viewBox="0 0 ${X} ${Z}" preserveAspectRatio="xMidYMid slice" role="img" aria-label="${this.label}">\n        <rect id="background" width="${X}" height="${Z}"></rect>\n        ${t.map(t=>`<polyline class="line" points="${t.toPointsAttrVal()}"></polyline>`).join("")}\n      </svg>\n    `}}if(J)customElements.define("yuhei-avator",at);else{const t=document.querySelector("#tmpl-yuhei-avator-fallback");document.querySelectorAll("yuhei-avator").forEach(e=>{const n=document.importNode(t.content.firstElementChild,!0);[...e.attributes].forEach(({name:t,value:e})=>{n.setAttribute(t,e)}),e.replaceWith(n)})}if(J&&!K){const t=document.querySelector('body > footer a[title="yuheiy.com"]'),e=t.querySelector("yuhei-avator"),n=async()=>{t.matches(":hover")||t.matches(":focus")?e.play():e.stop()};document.addEventListener("blur",n),document.addEventListener("mousemove",o(n)),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",n),t.addEventListener("focus",n),t.addEventListener("blur",n)}console.log("Source: https://github.com/yuheiy/yuheiy.com")}();
