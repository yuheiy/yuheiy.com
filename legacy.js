!function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,n=e(function(e,t){
/**
	 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
	 * @version v5.0.5
	 * @link https://github.com/ten1seven/what-input
	 * @license MIT
	 */
var n;n=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t){e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var e=document.documentElement,t=null,n="initial",o=n,r=null,i=["input","select","textarea"],a=[],u=[16,17,18,91,93],s={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},c=!1,l=!1,d={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},v=!1;try{var p=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("test",null,p)}catch(e){}var m=function(){var e=!!v&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",h),window.addEventListener("pointermove",w)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",h),window.addEventListener("MSPointerMove",w)):(window.addEventListener("mousedown",h),window.addEventListener("mousemove",w),"ontouchstart"in window&&(window.addEventListener("touchstart",E,e),window.addEventListener("touchend",h))),window.addEventListener(j(),w,e),window.addEventListener("keydown",E),window.addEventListener("keyup",E),window.addEventListener("focusin",b),window.addEventListener("focusout",g)},h=function(e){if(!c){var t=e.which,r=s[e.type];"pointer"===r&&(r=L(e));var a="keyboard"===r&&t&&-1===u.indexOf(t)||"mouse"===r||"touch"===r;if(n!==r&&a&&(n=r,y("input")),o!==r&&a){var l=document.activeElement;l&&l.nodeName&&-1===i.indexOf(l.nodeName.toLowerCase())&&(o=r,y("intent"))}}},y=function(t){e.setAttribute("data-what"+t,"input"===t?n:o),x(t)},w=function(e){if(M(e),!c&&!l){var t=s[e.type];"pointer"===t&&(t=L(e)),o!==t&&(o=t,y("intent"))}},b=function(n){n.target.nodeName?(t=n.target.nodeName.toLowerCase(),e.setAttribute("data-whatelement",t),n.target.classList&&n.target.classList.length&&e.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):g()},g=function(){t=null,e.removeAttribute("data-whatelement"),e.removeAttribute("data-whatclasses")},E=function(e){h(e),window.clearTimeout(r),c=!0,r=window.setTimeout(function(){c=!1},100)},L=function(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},j=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},x=function(e){for(var t=0,r=a.length;t<r;t++)a[t].type===e&&a[t].fn.call(void 0,"input"===e?n:o)},M=function(e){d.x!==e.screenX||d.y!==e.screenY?(l=!1,d.x=e.screenX,d.y=e.screenY):l=!0};return"addEventListener"in window&&Array.prototype.indexOf&&(s[j()]="mouse",m(),y("input"),y("intent")),{ask:function(e){return"intent"===e?o:n},element:function(){return t},ignoreKeys:function(e){u=e},registerOnChange:function(e,t){a.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,n=a.length;t<n;t++)if(a[t].fn===e)return t}(e);t&&a.splice(t,1)}}}()}])},e.exports=n()}),o=e(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=void 0,n=function(){if(null===t||void 0===t){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];t=requestAnimationFrame(function(n,o){return function(){t=null,e.apply(n,o)}}(this,o))}};return n.cancel=function(){return cancelAnimationFrame(t)},n}}),r=(t=o)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=Math.floor,a=Math.random;var u="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,c=(u||s||Function("return this")()).Symbol,l=Object.prototype,d=l.hasOwnProperty,f=l.toString,v=c?c.toStringTag:void 0;var p=Object.prototype.toString;var m="[object Null]",h="[object Undefined]",y=c?c.toStringTag:void 0;function w(e){return null==e?void 0===e?h:m:y&&y in Object(e)?function(e){var t=d.call(e,v),n=e[v];try{e[v]=void 0;var o=!0}catch(e){}var r=f.call(e);return o&&(t?e[v]=n:delete e[v]),r}(e):function(e){return p.call(e)}(e)}function b(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var g="[object AsyncFunction]",E="[object Function]",L="[object GeneratorFunction]",j="[object Proxy]";var x=9007199254740991;function M(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=x}(e.length)&&!function(e){if(!b(e))return!1;var t=w(e);return t==E||t==L||t==g||t==j}(e)}var O=9007199254740991,_=/^(?:0|[1-9]\d*)$/;function k(e,t,n){if(!b(n))return!1;var o=typeof t;return!!("number"==o?M(n)&&function(e,t){var n=typeof e;return!!(t=null==t?O:t)&&("number"==n||"symbol"!=n&&_.test(e))&&e>-1&&e%1==0&&e<t}(t,n.length):"string"==o&&t in n)&&function(e,t){return e===t||e!=e&&t!=t}(n[t],e)}var S="[object Symbol]";var P=NaN,A=/^\s+|\s+$/g,$=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,F=/^0o[0-7]+$/i,q=parseInt;function N(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&w(e)==S}(e))return P;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(A,"");var n=T.test(e);return n||F.test(e)?q(e.slice(2),n?2:8):$.test(e)?P:+e}var C=1/0,I=1.7976931348623157e308;function R(e){return e?(e=N(e))===C||e===-C?(e<0?-1:1)*I:e==e?e:0:0===e?e:0}var B=parseFloat,D=Math.min,Y=Math.random;function H(e,t,n){if(n&&"boolean"!=typeof n&&k(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=R(e),void 0===t?(t=e,e=0):t=R(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var r=Y();return D(e+r*(t-e+B("1e-"+((r+"").length-1))),t)}return function(e,t){return e+i(a()*(t-e+1))}(e,t)}var K=Math.ceil,V=Math.max;var X,G=function(e,t,n){return n&&"number"!=typeof n&&k(e,t,n)&&(t=n=void 0),e=R(e),void 0===t?(t=e,e=0):t=R(t),function(e,t,n,o){for(var r=-1,i=V(K((t-e)/(n||1)),0),a=Array(i);i--;)a[o?i:++r]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:R(n),X)};const U=Boolean(window.customElements),W=Boolean(document.documentElement.attachShadow),z=U&&W,J=window.matchMedia("(prefers-reduced-motion)").matches,Q=1e3/15,Z=1024,ee=1024,te=Z/100,ne=Z/10,oe=ee/10*-1,re=ee/10,ie=()=>{const e=ee/2,t=[[0,e]];let n=0,o=e;for(;n<Z;)n+=H(te,ne),o+=H(oe,re),t.push([n,o]);return{points:t,toPointsAttrVal:()=>t.map(e=>e.join(",")).join(" ")}},ae=()=>G(3).map(ie);class ue extends HTMLElement{constructor(){super(),this._isPlaying=!1,this._timerId=null,this._render=this._render.bind(this),this.attachShadow({mode:"open"}),this._render()}play(){this._isPlaying||(this._render(),this._timerId=setInterval(this._render,Q),this._isPlaying=!0)}stop(){this._isPlaying&&(clearTimeout(this._timerId),this._isPlaying=!1)}_render(){const e=ae();this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          all: initial;\n          contain: content;\n          display: inline-block;\n        }\n\n        #stage {\n          width: 100%;\n          height: 100%;\n          vertical-align: bottom;\n        }\n\n        #background {\n          fill: var(--yuhei-avator__color-bg, var(--color-bg, white));\n        }\n\n        .line {\n          fill: none;\n          stroke: var(--yuhei-avator__color-fg, var(--color-fg, black));\n          stroke-width: ${Z/64};\n          stroke-linecap: square;\n        }\n      </style>\n\n      <svg id="stage" viewBox="0 0 ${Z} ${ee}" preserveAspectRatio="xMidYMid slice" role="img">\n        <rect id="background" width="${Z}" height="${ee}"></rect>\n        ${e.map(e=>`<polyline class="line" points="${e.toPointsAttrVal()}"></polyline>`).join("")}\n      </svg>\n    `}}if(z)customElements.define("yuhei-avator",ue);else{const e=document.querySelector("#tmpl-yuhei-avator-fallback");document.querySelectorAll("yuhei-avator").forEach(t=>{const n=document.importNode(e.content.firstElementChild,!0);[...t.attributes].forEach(({name:e,value:t})=>{n.setAttribute(e,t)}),t.replaceWith(n)})}if(z&&!J){const e=document.querySelector('body > footer a[title="yuheiy.com"]'),t=e.querySelector("yuhei-avator");let o=!1;const i=async()=>{o&&(await new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(e)})}),o=!1);const r=n.ask(),i=n.ask("intent");if("initial"===i)return void(o=!0);const a="mouse"===i&&e.matches(":hover"),u="keyboard"===r&&document.activeElement===e;a||u?t.play():t.stop()};document.addEventListener("blur",i),document.addEventListener("mousemove",r(i)),e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",i),e.addEventListener("focus",i),e.addEventListener("blur",i)}console.log("Source: https://github.com/yuheiy/yuheiy.com")}();
